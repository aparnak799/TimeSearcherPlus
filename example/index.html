<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Example</title>
</head>
<body>
  <div id="target"></div>
  <div id="targetDetailed"></div>
  <script src="https://d3js.org/d3.v7.js"></script>
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="../dist/TimeSearcher.js"></script>

  <script>
      let nn = TimeSearcher(d3.select("#target"),d3.select("#targetDetailed"),
              "Date",
                "Open",
               "stock",
               "canvas"
          )
      nn.updateCallback(selected => console.log(selected));
      nn.doubleYlegend = true;

      d3.csv("./sp500_20-22.csv",type).then(data => nn.Data(data));

      var fmt = d3.timeParse("%Y-%m-%d");
      function type(row) {
          row.Id = +row.Id
          row.Date =fmt(row.Date)
          row.Low = +row.Low;
          row.Open = +row.Open;
          row.Volume = +row.Volume;
          row.High = +row.High;
          row.Close = +row.Close;
          row["Adjusted Close"] = +row["Adjusted Close"];
          return row
      }

  </script>
</body>
</html>